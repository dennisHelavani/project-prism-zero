
'use client';

import Link from "next/link";
import { useEffect, useState } from "react";
import { cn } from "@/lib/utils";
import { StarBorder } from "../ui/star-border";

const navLinks = [
  { name: "Our story", href: "#our-story" },
  { name: "Pricing", href: "#pricing" },
  { name: "How It Works", href: "#how-it-works" },
  { name: "Reviews", href: "#reviews" },
  { name: "Contact Us", href: "#contact" },
];

const HardHatLogo = () => (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="150"
      height="40"
      viewBox="0 0 215 42"
      fill="none"
      className="text-foreground"
    >
      <path
        d="M36.1953 41.6667V25.9584C36.1953 24.3214 36.8407 22.7501 37.9942 21.5966C39.1477 20.4431 40.719 19.7977 42.3559 19.7977H53.0305C54.6674 19.7977 56.2388 20.4431 57.3923 21.5966C58.5458 22.7501 59.1911 24.3214 59.1911 25.9584V41.6667H51.0583V28.7917C51.0583 28.3214 50.8676 27.8711 50.5312 27.5347C50.1948 27.1983 49.7445 27.0076 49.2742 27.0076H46.0771C45.6068 27.0076 45.1565 27.1983 44.8201 27.5347C44.4837 27.8711 44.293 28.3214 44.293 28.7917V41.6667H36.1953Z"
        fill="currentColor"
      />
      <path
        d="M74.4531 41.6667V20.8334H66.3555V41.6667H74.4531Z"
        fill="currentColor"
      />
      <path
        d="M66.3555 14.7917C66.3555 13.0455 67.0463 11.3712 68.2698 10.1477C69.4933 8.92423 71.1676 8.2334 72.9138 8.2334C74.66 8.2334 76.3343 8.92423 77.5578 10.1477C78.7813 11.3712 79.4721 13.0455 79.4721 14.7917C79.4721 16.5379 78.7813 18.2122 77.5578 19.4357C76.3343 20.6592 74.66 21.35 72.9138 21.35C71.1676 21.35 69.4933 20.6592 68.2698 19.4357C67.0463 18.2122 66.3555 16.5379 66.3555 14.7917Z"
        fill="currentColor"
      />
      <path
        d="M103.882 41.6667V20.8334H91.127V28.7917H95.7844V41.6667H103.882Z"
        fill="currentColor"
      />
      <path
        d="M119.531 41.6667V20.8334H111.433V41.6667H119.531Z"
        fill="currentColor"
      />
      <path
        d="M111.433 14.7917C111.433 13.0455 112.124 11.3712 113.348 10.1477C114.571 8.92423 116.245 8.2334 117.992 8.2334C119.738 8.2334 121.412 8.92423 122.636 10.1477C123.859 11.3712 124.55 13.0455 124.55 14.7917C124.55 16.5379 123.859 18.2122 122.636 19.4357C121.412 20.6592 119.738 21.35 117.992 21.35C116.245 21.35 114.571 20.6592 113.348 19.4357C112.124 18.2122 111.433 16.5379 111.433 14.7917Z"
        fill="currentColor"
      />
      <path
        d="M136.633 42.5C138.835 42.5 140.95 41.8741 142.748 40.7101C144.547 39.5461 145.95 37.9048 146.804 35.9868C147.658 34.0688 147.925 31.9673 147.575 29.9328C147.225 27.8983 146.273 25.9997 144.821 24.4518L143.169 22.8417C142.49 22.1462 141.562 21.724 140.59 21.6584C139.617 21.5927 138.653 21.8875 137.891 22.4834C137.129 23.0792 136.621 23.9312 136.458 24.8751C136.295 25.8189 136.488 26.7934 137.009 27.6167L138.275 29.5417C138.643 30.1037 138.847 30.7584 138.865 31.4284C138.883 32.0983 138.714 32.7607 138.376 33.344C138.038 33.9272 137.542 34.4103 136.942 34.7439C136.342 35.0774 135.666 35.2504 134.978 35.2417C133.722 35.2417 132.518 34.7463 131.652 33.8804C130.787 33.0146 130.291 31.8105 130.291 30.5542V20.8334H122.193V30.5542C122.193 32.9691 123.151 35.2868 124.846 37.018C126.54 38.7492 128.842 39.7917 131.258 39.7917C132.404 39.7917 133.538 39.5819 134.595 39.1751C135.651 38.7683 136.609 38.173 137.419 37.4251C138.766 36.2575 139.742 34.7711 140.239 33.1257C140.736 31.4803 140.736 29.7466 140.239 28.1012L141.956 26.3834C143.833 24.5063 146.438 23.4792 149.143 23.5417C151.849 23.6042 154.407 24.7501 156.321 26.6646C158.235 28.5792 159.381 31.1376 159.443 33.843C159.506 36.5485 158.479 39.1533 156.602 41.0305C154.725 42.9076 152.191 43.9584 149.493 43.9584C147.883 43.9584 146.291 43.6423 144.811 43.0305L136.633 42.5Z"
        fill="currentColor"
      />
      <path
        d="M165.733 41.6667V20.8334H173.83V27.0084H180.702V20.8334H188.799V41.6667H180.702V33.2501H173.83V41.6667H165.733Z"
        fill="currentColor"
      />
      <path
        d="M205.816 41.6667L197.382 20.8334H206.282L210.457 32.5584L214.632 20.8334H223.532L215.098 41.6667H205.816Z"
        fill="currentColor"
      />
      <path
        d="M17.8047 4.16669C22.6198 4.16669 27.229 6.07591 30.6932 9.54013C34.1574 13.0043 36.0667 17.6136 36.0667 22.4286V25.2084H0.541016V22.4286C0.541016 17.6136 2.45023 13.0043 5.91445 9.54013C9.37867 6.07591 13.9879 4.16669 18.8029 4.16669H17.8047Z"
        fill="currentColor"
      />
      <path
        d="M18.2583 25.125H5.43359V28.4583H18.2583V25.125Z"
        fill="currentColor"
      />
      <path
        d="M31.1828 25.125H18.3584V28.4583H31.1828V25.125Z"
        fill="currentColor"
      />
      <path
        d="M31.1828 30.9583H18.3584V34.2916H31.1828V30.9583Z"
        fill="currentColor"
      />
      <path
        d="M18.2583 30.9583H5.43359V34.2916H18.2583V30.9583Z"
        fill="currentColor"
      />
      <path
        d="M20.8333 0C20.8333 2.50293 18.8445 4.58331 16.4583 4.58331C14.0722 4.58331 12.0833 2.50293 12.0833 0H20.8333Z"
        fill="currentColor"
      />
    </svg>
  );


export function Header() {
  const [scrolled, setScrolled] = useState(false);

  useEffect(() => {
    const handleScroll = () => {
      setScrolled(window.scrollY > 0);
    };

    window.addEventListener("scroll", handleScroll);
    return () => {
      window.removeEventListener("scroll", handleScroll);
    };
  }, []);

  return (
    <header className={cn(
      "sticky top-0 inset-x-0 z-50 transition-all duration-300",
      { "bg-background/80 backdrop-blur-sm border-b border-white/10": scrolled }
    )}>
      <div className="mx-auto flex h-[72px] max-w-[1200px] items-center justify-between px-6">
        <Link href="/">
          <HardHatLogo />
        </Link>
        <nav className="hidden items-center gap-8 md:flex">
          {navLinks.map((link) => (
            <Link key={link.name} href={link.href} className="text-sm font-medium text-muted-foreground transition-colors hover:text-foreground">
              {link.name}
            </Link>
          ))}
        </nav>
        <div className="flex items-center gap-4">
           <StarBorder asChild>
             <Link href="#cta">Generate my documents</Link>
           </StarBorder>
        </div>
      </div>
    </header>
  );
}
